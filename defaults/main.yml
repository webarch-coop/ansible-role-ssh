---
# See also meta/argument_specs.yml

# https://man.openbsd.org/sshd_config#PubkeyAuthentication
ssh_allow_agent_forwarding: false

# https://man.openbsd.org/sshd_config#AllowGroups
ssh_allow_groups:
  - root
  - sudo
  # - chroot
  # - sftponly
  # - xenshell

# https://man.openbsd.org/sshd_config#AllowTcpForwarding
ssh_allow_tcp_forwarding: "no"

# https://man.openbsd.org/sshd_config#AuthenticationMethods
ssh_authentication_methods: publickey

# Strict checks, set this to false for checks to be allowed to fail
ssh_check_fail: true

# Directory under which users in the chroot will be chrooted to a directory
# matching their user name, for example /chroots/%u
# ssh_chroot_users_dir: /chroots

# If the ssh_ci_ips array is defined and not empty then a key pair will be
# generated in /root/.ssh/ci and the public key will be added to
# /root/.ssh/authorized_keys prefixed with a from="" containing the public key
# and the IP addresses:
# ssh_ci_ips:
#   - 192.168.0.1

# https://man.openbsd.org/sshd_config#Ciphers
ssh_ciphers:
  - chacha20-poly1305@openssh.com
  - aes256-gcm@openssh.com
  - aes128-gcm@openssh.com
  - aes256-ctr
  - aes192-ctr
  - aes128-ctr

# https://man.openbsd.org/sshd_config#DenyUsers
# ssh_deny_users:
#  - www-data

# https://man.openbsd.org/sshd_config#HostKeyAlgorithms
ssh_host_key_algorithms:
  - ssh-ed25519
  - ssh-ed25519-cert-v01@openssh.com
  # Comment the next two sk lines for OpenSSH < 8.4
  - sk-ssh-ed25519@openssh.com
  - sk-ssh-ed25519-cert-v01@openssh.com
  - rsa-sha2-512
  - rsa-sha2-256
  - rsa-sha2-512-cert-v01@openssh.com
  - rsa-sha2-256-cert-v01@openssh.com
  # Uncomment the following lines for
  # https://infosec.mozilla.org/guidelines/openssh#modern-openssh-67
  # - ecdsa-sha2-nistp521-cert-v01@openssh.com
  # - ecdsa-sha2-nistp384-cert-v01@openssh.com
  # - ecdsa-sha2-nistp256-cert-v01@openssh.com
  # - sk-ecdsa-sha2-nistp256@openssh.com
  # - sk-ecdsa-sha2-nistp256-cert-v01@openssh.com
  # - ecdsa-sha2-nistp521
  # - ecdsa-sha2-nistp384
  # - ecdsa-sha2-nistp256

# Add SSH configuration for git user for GitLab
ssh_gitlab: false

# https://man.openbsd.org/sshd_config#HostKey
ssh_host_keys:
  - /etc/ssh/ssh_host_ed25519_key
  - /etc/ssh/ssh_host_rsa_key
  # Uncomment the following line for
  # https://infosec.mozilla.org/guidelines/openssh#modern-openssh-67
  # - /etc/ssh/ssh_host_ecdsa_key

# https://man.openbsd.org/sshd_config#KexAlgorithms
ssh_kex_algorithms:
  - curve25519-sha256
  - curve25519-sha256@libssh.org
  - diffie-hellman-group18-sha512
  - diffie-hellman-group16-sha512
  - diffie-hellman-group14-sha256
  # Uncomment the following lines for
  # https://infosec.mozilla.org/guidelines/openssh#modern-openssh-67
  # - diffie-hellman-group-exchange-sha256
  # - ecdh-sha2-nistp521
  # - ecdh-sha2-nistp384
  # - ecdh-sha2-nistp256

# https://man.openbsd.org/sshd_config#MACs
ssh_macs:
  - hmac-sha2-512-etm@openssh.com
  - hmac-sha2-256-etm@openssh.com
  - umac-128-etm@openssh.com
  # Uncomment the following lines for
  # https://infosec.mozilla.org/guidelines/openssh#modern-openssh-67
  # - hmac-sha2-512
  # - hmac-sha2-256
  # - umac-128@openssh.com

# https://man.openbsd.org/sshd_config#PasswordAuthentication
ssh_password_authentication: false

# https://man.openbsd.org/sshd_config#PermitRootLogin
ssh_permit_root_login: prohibit-password

# https://man.openbsd.org/sshd_config#PubkeyAuthentication
ssh_pubkey_authentication: true

# Generate a SSH keypair for the root user
ssh_root_keypair: true

# Allow X11 forwarding
ssh_x11_forwarding: false
...
